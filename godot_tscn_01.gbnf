root ::= gd-scene-attr node-newlines root-node node*

root-node ::= "[" "node" ws "name=" string ws "type=" string "]" transform-attr? node-newlines

child-node ::= "[" "node" ws "name=" string ws "type=" string ws parent-attr "]" transform-attr? node-newlines

gd-scene-attr ::= "[" "gd_scene" ws "format=" number ws "uid=" quoted-uid "]"

node ::= root-node | child-node

parent-attr ::= "parent=" string

transform-attr ::= ws "transform" ws "=" ws "Transform3D" ws "(" vector "," ws vector "," ws vector "," ws position ")"

vector ::= number ws "," ws number ws "," ws number

position ::= number ws "," ws number ws "," ws number

node-newlines ::= new-line*

# Lexical tokens (definitions)
string ::= "\"" [^\"]* "\""
number ::= "-"?[0-9]+("."[0-9]+)?
quoted-uid ::= "\"" uid "\""
uid ::= "uid://" [a-z0-9]+
new-line ::= "\r\n" | "\n"
ws ::= " "+
